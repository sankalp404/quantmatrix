# Test env (safe placeholders) - copy to infra/env.test (NOT committed)
#
# IMPORTANT:
# - Tests MUST run against postgres_test (dedicated test DB, isolated volume)
# - We intentionally set DATABASE_URL == TEST_DATABASE_URL so any accidental use of
#   backend.database.engine/SessionLocal still targets the test DB (never dev/prod).

# Dedicated test DB credentials (container runtime)
POSTGRES_TEST_DB=quantmatrix_test
POSTGRES_TEST_USER=quantmatrix_test
POSTGRES_TEST_PASSWORD=change_me_test

# Required by pytest guards (must be postgres_test host and *_test db)
TEST_DATABASE_URL=postgresql://quantmatrix_test:change_me_test@postgres_test:5432/quantmatrix_test
DATABASE_URL=postgresql://quantmatrix_test:change_me_test@postgres_test:5432/quantmatrix_test

# Redis for tests (optional; many tests donâ€™t need it but safe to provide)
REDIS_TEST_PASSWORD=change_me_redis_test
REDIS_URL=redis://:change_me_redis_test@redis_test:6379/0
CELERY_BROKER_URL=redis://:change_me_redis_test@redis_test:6379/0
CELERY_RESULT_BACKEND=redis://:change_me_redis_test@redis_test:6379/0

# Test flags
DEBUG=true
SEED_ACCOUNTS_ON_STARTUP=false
ENABLE_TRADING=false

# Paranoia: expected host for test DB URL validation
TEST_DB_EXPECTED_HOST=postgres_test
TEST_DB_SENTINEL_MARKER=quantmatrix_pytest_sentinel_v1


